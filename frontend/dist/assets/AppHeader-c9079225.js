import{u as D,A as M,r as T,m as V,g as z,b as t,o as P,i as R,w as o,d as s,e,f as _,t as m,E as f,l as U}from"./index-e807a5c3.js";import{_ as J}from"./_plugin-vue_export-helper-608cf584.js";const L={class:"header-content"},O={class:"logo-section"},j={class:"nav-section"},q={class:"user-section"},F={class:"user-info"},G={class:"username"},K={__name:"AppHeader",setup(Q){const d=D(),v=M(),r=T({nickname:"工大学子",avatar:""}),g=V(()=>v.path),w=a=>{d.push(a)},h=a=>{switch(a){case"profile":d.push("/profile");break;case"settings":f.info("设置功能开发中...");break;case"logout":x();break}},x=()=>{U.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),f.success("退出成功"),d.push("/login")})};return z(()=>{const a=localStorage.getItem("user");a&&(r.value=JSON.parse(a))}),(a,n)=>{const k=t("router-link"),S=t("House"),l=t("el-icon"),c=t("el-menu-item"),A=t("EditPen"),i=t("User"),B=t("el-menu"),b=t("el-avatar"),I=t("ArrowDown"),u=t("el-dropdown-item"),E=t("Setting"),H=t("SwitchButton"),y=t("el-dropdown-menu"),C=t("el-dropdown"),N=t("el-header");return P(),R(N,{class:"app-header"},{default:o(()=>[s("div",L,[s("div",O,[e(k,{to:"/home",class:"logo"},{default:o(()=>n[0]||(n[0]=[_(" 工大人社交圈 ")])),_:1,__:[0]})]),s("div",j,[e(B,{"default-active":g.value,mode:"horizontal","background-color":"transparent","text-color":"#ffffff","active-text-color":"#ffffff",onSelect:w},{default:o(()=>[e(c,{index:"/home"},{default:o(()=>[e(l,null,{default:o(()=>[e(S)]),_:1}),n[1]||(n[1]=s("span",null,"首页",-1))]),_:1,__:[1]}),e(c,{index:"/publish"},{default:o(()=>[e(l,null,{default:o(()=>[e(A)]),_:1}),n[2]||(n[2]=s("span",null,"发布",-1))]),_:1,__:[2]}),e(c,{index:"/friends"},{default:o(()=>[e(l,null,{default:o(()=>[e(i)]),_:1}),n[3]||(n[3]=s("span",null,"好友",-1))]),_:1,__:[3]})]),_:1},8,["default-active"])]),s("div",q,[e(C,{onCommand:h},{dropdown:o(()=>[e(y,null,{default:o(()=>[e(u,{command:"profile"},{default:o(()=>[e(l,null,{default:o(()=>[e(i)]),_:1}),n[4]||(n[4]=_(" 个人中心 "))]),_:1,__:[4]}),e(u,{command:"settings"},{default:o(()=>[e(l,null,{default:o(()=>[e(E)]),_:1}),n[5]||(n[5]=_(" 设置 "))]),_:1,__:[5]}),e(u,{divided:"",command:"logout"},{default:o(()=>[e(l,null,{default:o(()=>[e(H)]),_:1}),n[6]||(n[6]=_(" 退出登录 "))]),_:1,__:[6]})]),_:1})]),default:o(()=>[s("span",F,[e(b,{size:32,src:r.value.avatar},{default:o(()=>{var p;return[_(m((p=r.value.nickname)==null?void 0:p.charAt(0)),1)]}),_:1},8,["src"]),s("span",G,m(r.value.nickname),1),e(l,{class:"el-icon--right"},{default:o(()=>[e(I)]),_:1})])]),_:1})])])]),_:1})}}},Y=J(K,[["__scopeId","data-v-44452d09"]]);export{Y as A};
